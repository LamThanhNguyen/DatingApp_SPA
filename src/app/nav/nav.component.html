<nav class="navbar navbar-expand-md navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" [routerLink]="['/home']">Dating App</a>

        <ul *ngIf="loggedIn()" class="navbar-nav mr-auto">
            <li class="nav-item" routerLinkActive="active">
                <a class="nav-link" [routerLink]="['/members']">Matches</a>
            </li>
            <li class="nav-item" routerLinkActive="active">
                <!-- Thuộc tính routerLinkActive="active" khi chúng ta đang ở Router này thì nó sẽ kích hoạt active label sáng lên. -->
                <a class="nav-link" [routerLink]="['/lists']">Lists</a>
            </li>
            <li class="nav-item" routerLinkActive="active">
                <a class="nav-link" [routerLink]="['/messages']">Messages</a>
            </li>
            <li *appHasRole="['Admin', 'Moderator']" class="nav-item" routerLinkActive="active">
                <a class="nav-link" [routerLink]="['/admin']">Admin</a>
            </li>
        </ul>

        <div *ngIf="loggedIn()" class="navbar-collapse" [class.collapse]="collapsed" id="navbarContent">
            <span class="mr-1">
            <img src="{{photoUrl || '../../assets/user.png'}}" alt="" >
            <!-- Nếu photoUrl bằng null hoặc false thì sẽ src = user.png -->
          </span>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item" ngbDropdown>
                    <a class="nav-link" style="cursor: pointer" ngbDropdownToggle id="navbarDropdown1" role="button">
                  Welcome {{authService.decodedToken?.unique_name | titlecase}}
                </a>
                    <div ngbDropdownMenu aria-labelledby="navbarDropdown1" class="dropdown-menu">
                        <a ngbDropdownItem [routerLink]="['/member/edit']">
                            <i class="fa fa-user"></i>Edit Profile
                        </a>
                        <a ngbDropdownItem href="#" (click)="logout()">
                            <i class="fa fa-sign-out"></i>Logout
                        </a>
                    </div>
                </li>
            </ul>
        </div>

        <form *ngIf="!loggedIn()" #loginForm="ngForm" class="form-inline my-2 my-lg-0" (ngSubmit)="login()">
            <input class="form-control mr-sm-2" type="text" name="username" placeholder="Username" required [(ngModel)]="model.username">
            <input class="form-control mr-sm-2" type="password" name="password" placeholder="Password" required [(ngModel)]="model.password">
            <button [disabled]="!loginForm.valid" class="btn btn-success my-2 my-sm-0" type="submit">Login</button>
        </form>
    </div>
</nav>